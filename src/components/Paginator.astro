---
interface Props {
  currentPage: number;
  totalPages: number;
  baseUrl?: string;
}

const { currentPage, totalPages, baseUrl } = Astro.props;

// Calculate previous and next page numbers
const prevPage = currentPage > 1 ? currentPage - 1 : null;
const nextPage = currentPage < totalPages ? currentPage + 1 : null;

// Generate URLs for previous and next pages
const getPageUrl = (page: number) => {
  if (page === 1) {
    return '/';
  }
  if (baseUrl === '/page') {
    return `/page/${page}`;
  }
  return `/?page=${page}`;
};

// Generate href URLs or null
const prevHref = prevPage ? getPageUrl(prevPage) : null;
const nextHref = nextPage ? getPageUrl(nextPage) : null;
---

{totalPages > 1 && (
  <nav class="paginator d-flex align-items-center gap-3 py-3" aria-label="Pagination">
    <!-- Left: Newer Posts -->
    <div class="flex-grow-1">
      {prevHref
        ? <a class="text-decoration-none" rel="prev" aria-label="Newer posts" href={prevHref}>← Newer Posts</a>
        : <span class="invisible" aria-hidden="true">← Newer Posts</span>}
    </div>

    <!-- Center: Page counter -->
    <div class="text-center fw-semibold">{currentPage} of {totalPages}</div>

    <!-- Right: Older Posts -->
    <div class="flex-grow-1 d-flex justify-content-end">
      {nextHref
        ? <a class="text-decoration-none" rel="next" aria-label="Older posts" href={nextHref}>Older Posts →</a>
        : <span class="invisible" aria-hidden="true">Older Posts →</span>}
    </div>
  </nav>
)}