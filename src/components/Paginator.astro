---
export interface Props {
  currentPage: number;
  totalPages: number;
  baseUrl?: string;
}

const { currentPage, totalPages, baseUrl } = Astro.props;

const prevPage = currentPage > 1 ? currentPage - 1 : null;
const nextPage = currentPage < totalPages ? currentPage + 1 : null;

const getPageUrl = (page: number) => {
  if (page === 1) {
    return '/';
  }
  if (baseUrl === '/page') {
    return `/page/${page}`;
  }
  return `/?page=${page}`;
};
---

{totalPages > 1 && (
  <div class="paginator mt-5">
    <!-- Newer Posts (Previous) -->
    {prevPage ? (
      <a href={getPageUrl(prevPage)} class="paginator__link paginator__newer">
        ← Newer Posts
      </a>
    ) : (
      <span class="paginator__link paginator__newer paginator__disabled">
        ← Newer Posts
      </span>
    )}
    
    <!-- Current page indicator -->
    <span class="paginator__current">
      {currentPage} of {totalPages}
    </span>
    
    <!-- Older Posts (Next) -->
    {nextPage ? (
      <a href={getPageUrl(nextPage)} class="paginator__link paginator__older">
        Older Posts →
      </a>
    ) : (
      <span class="paginator__link paginator__older paginator__disabled">
        Older Posts →
      </span>
    )}
  </div>
)}