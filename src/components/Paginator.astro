---
export interface Props {
  currentPage: number;
  totalPages: number;
  baseUrl?: string;
}

const { currentPage, totalPages, baseUrl } = Astro.props;

const prevPage = currentPage > 1 ? currentPage - 1 : null;
const nextPage = currentPage < totalPages ? currentPage + 1 : null;

const getPageUrl = (page: number) => {
  if (page === 1) {
    return '/';
  }
  if (baseUrl === '/page') {
    return `/page/${page}`;
  }
  return `/?page=${page}`;
};
---

{totalPages > 1 && (
  <!-- Paginator with CSS Grid for perfect centering -->
  <div class="paginator pagination-grid py-3 mt-5">
    <span class="spacer" aria-hidden="true"></span>
    <span class="page-counter">{currentPage} of {totalPages}</span>
    {nextPage && (
      <a class="older-posts text-decoration-none" href={getPageUrl(nextPage)}>Older Posts â†’</a>
    )}
  </div>
)}